import { Component, Input } from '@angular/core';

@Component({
  selector: 'app-priority-icon',
  template: `
    <div class="{{ !animated ? 'flex flex-row' : '' }}">
      <svg
        *ngIf="priority === 0"
        width="460"
        height="711"
        viewBox="0 0 460 711"
        xmlns="http://www.w3.org/2000/svg"
        style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"
        [ngClass]="animated ? 'w-[58px] h-[30px]' : 'w-[39px] h-[20px]'"
      >
        <path
          d="M428.935,281.885c19.446,19.446 30.37,45.819 30.37,73.319c-0,27.5 -10.924,53.874 -30.37,73.319l-251.515,251.515c-19.446,19.446 -45.819,30.37 -73.319,30.37l-0.41,0c-41.938,0 -79.746,-25.263 -95.795,-64.008c-16.049,-38.746 -7.178,-83.344 22.477,-112.999l72.419,-72.42c58.419,-58.419 58.419,-153.135 0,-211.554l-72.419,-72.42c-29.655,-29.654 -38.526,-74.253 -22.477,-112.998c16.049,-38.746 53.857,-64.009 95.795,-64.009l0.41,0c27.5,-0 53.873,10.924 73.319,30.37l251.515,251.515Z"
          class="fill-inReview"
        />
      </svg>
      <svg
        *ngIf="!animated && priority === 1"
        width="690"
        height="711"
        viewBox="0 0 690 711"
        xmlns="http://www.w3.org/2000/svg"
        style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;width:39px;height: 20px"
      >
        <g>
          <path
            d="M373.351,299.555c26.413,32.398 26.413,78.9 0,111.298l-218.113,267.543c-16.515,20.257 -41.265,32.012 -67.4,32.012l-0.024,0c-33.902,0 -64.776,-19.515 -79.321,-50.139c-14.545,-30.624 -10.162,-66.885 11.26,-93.161l106.975,-131.218c38.296,-46.975 38.296,-114.397 -0,-161.372l-106.634,-130.799c-21.484,-26.353 -25.88,-62.72 -11.292,-93.433c14.587,-30.713 45.552,-50.286 79.553,-50.286l0.641,0c25.403,-0 49.458,11.425 65.509,31.114l218.846,268.441Z"
            style="fill:#00d387;fill-opacity:0.75;"
          />
          <path
            d="M669.837,299.555c26.413,32.398 26.413,78.9 0,111.298l-218.113,267.543c-16.515,20.257 -41.264,32.012 -67.4,32.012l-0.024,0c-33.902,0 -64.776,-19.515 -79.321,-50.139c-14.545,-30.624 -10.162,-66.885 11.26,-93.161l106.975,-131.218c38.296,-46.975 38.296,-114.397 0,-161.372l-106.634,-130.799c-21.484,-26.353 -25.879,-62.72 -11.292,-93.433c14.588,-30.713 45.552,-50.286 79.553,-50.286l0.642,0c25.402,-0 49.457,11.425 65.509,31.114l218.845,268.441Z"
            style="fill:#00d387;"
          />
        </g>
      </svg>
      <svg
        *ngIf="!animated && priority === 2"
        width="876"
        height="711"
        viewBox="0 0 876 711"
        xmlns="http://www.w3.org/2000/svg"
        style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;width:39px;height:20px"
      >
        <g>
          <path
            d="M351.114,316.046c16.249,23.577 16.249,54.739 0,78.317l-197.243,286.198c-12.879,18.687 -34.123,29.847 -56.818,29.847l-28.047,0c-25.64,0 -49.166,-14.216 -61.09,-36.915c-11.924,-22.698 -10.279,-50.137 4.271,-71.249l128.394,-186.299c25.205,-36.572 25.205,-84.91 0,-121.482l-128.394,-186.299c-14.55,-21.112 -16.195,-48.55 -4.271,-71.249c11.924,-22.699 35.45,-36.915 61.09,-36.915l28.047,0c22.695,0 43.939,11.16 56.818,29.847l197.243,286.199Z"
            style="fill:#fe57e6;fill-opacity:0.5;"
          />
          <path
            d="M607.09,316.046c16.249,23.577 16.249,54.739 -0,78.317l-197.243,286.198c-12.879,18.687 -34.123,29.847 -56.819,29.847l-28.047,0c-25.64,0 -49.166,-14.216 -61.089,-36.915c-11.924,-22.698 -10.279,-50.137 4.271,-71.249l128.394,-186.299c25.204,-36.572 25.204,-84.91 -0,-121.482l-128.394,-186.299c-14.55,-21.112 -16.195,-48.55 -4.271,-71.249c11.923,-22.699 35.449,-36.915 61.089,-36.915l28.047,0c22.696,0 43.94,11.16 56.819,29.847l197.243,286.199Z"
            style="fill:#fe57e6;fill-opacity:0.75;"
          />
          <path
            d="M863.066,316.046c16.249,23.577 16.249,54.739 -0,78.317l-197.243,286.198c-12.879,18.687 -34.123,29.847 -56.819,29.847l-28.047,0c-25.64,0 -49.166,-14.216 -61.09,-36.915c-11.923,-22.698 -10.279,-50.137 4.271,-71.249l128.395,-186.299c25.204,-36.572 25.204,-84.91 -0,-121.482l-128.395,-186.299c-14.55,-21.112 -16.194,-48.55 -4.271,-71.249c11.924,-22.699 35.45,-36.915 61.09,-36.915l28.047,0c22.696,0 43.94,11.16 56.819,29.847l197.243,286.199Z"
            style="fill:#fe57e6;"
          />
        </g>
      </svg>
      <video
        *ngIf="animated && priority !== 0"
        autoplay muted
        class="h-[30px]"
      >
        <source src="/assets/portal{{ priority }}.mp4" type="video/mp4" />
        Video not supported
      </video>
      <div class="flex flex-col justify-center">
        <p
          class="font-robotoCondensed font-semibold text-xs text-center mt-1 pr-0.5"
          [ngClass]="textColor"
        >
          {{ ['BAJA', 'MEDIA', 'ALTA'][priority] }}
        </p>
      </div>
    </div>
  `
})
export class PriorityIconComponent {
  @Input() priority = 0;
  @Input() animated = true;

  get textColor() {
    return ['text-inReview', 'text-done', 'text-ludicrousSpeed'][this.priority];
  }
}
